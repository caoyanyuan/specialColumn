<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="test">
        <div class="demo">123</div>
    </div>
    <!-- <script src="./02FOO.js"></script> -->
    <!-- <script src="./01deepCopy.js"></script> -->
    <!-- <script src="./03EventLoop.js"></script> -->
    <!-- <script src="./05strage.js"></script>
    <script src="./04this.js"></script> -->
    <!-- <script src="./06promise.js"></script>  -->
    <!-- <script src="./07data.js"></script> -->

    <!-- <script src="./08for.js"></script> -->
    <!-- <script src="./09Timer.js"></script> -->

    <script>
        var name = "xxx"
        function A() {
            console.log('xx')
            this.name = "abc"

            this.fn = function() {
                console.log(this.name)
            }
        }

        A.prototype = function B() {
            this.first = "first"
        }

        A.prototype.first = "XX"
       
        let temp = new A()
        var fn = temp.fn
        temp.fn()

        console.log(temp, A instanceof Object)
        /*
            1. 创建一个空对象
            2. this指向这个新对象  
            3. 执行构造函数
            4. 返回新对象

        */
       class Animal{
           constructor() {
               this.name = "animal"
           } 
       }

        class Dog extends Animal{
           constructor() {
                super()
                this.dog =  this.name + "dog"
           }
        }

        let dog = new Dog()

        console.log(dog)


        ;
    (function() {

        handleAddListener('load', getTiming)

        function handleAddListener(type, fn) {
            if(window.addEventListener) {
                window.addEventListener(type, fn)
            } else {
                window.attachEvent('on' + type, fn)
            }
        }

        function getTiming() {
            try {
                var time = performance.timing;
                var timingObj = {};

                var loadTime = (time.loadEventEnd - time.loadEventStart) / 1000;

                if(loadTime < 0) {
                    setTimeout(function() {
                        getTiming();
                    }, 200);
                    return;
                }

                timingObj['重定向时间'] = (time.redirectEnd - time.redirectStart) / 1000;
                timingObj['DNS解析时间'] = (time.domainLookupEnd - time.domainLookupStart) / 1000;
                timingObj['TCP完成握手时间'] = (time.connectEnd - time.connectStart) / 1000;
                timingObj['HTTP请求响应完成时间'] = (time.responseEnd - time.requestStart) / 1000;
                timingObj['DOM开始加载前所花费时间'] = (time.responseEnd - time.navigationStart) / 1000;
                timingObj['DOM加载完成时间'] = (time.domComplete - time.domLoading) / 1000;
                timingObj['DOM结构解析完成时间'] = (time.domInteractive - time.domLoading) / 1000;
                timingObj['脚本加载时间'] = (time.domContentLoadedEventEnd - time.domContentLoadedEventStart) / 1000;
                timingObj['onload事件时间'] = (time.loadEventEnd - time.loadEventStart) / 1000;
                timingObj['页面完全加载时间'] = (timingObj['重定向时间'] + timingObj['DNS解析时间'] + timingObj['TCP完成握手时间'] + timingObj['HTTP请求响应完成时间'] + timingObj['DOM结构解析完成时间'] + timingObj['DOM加载完成时间']);

                for(item in timingObj) {
                    console.log(item + ":" + timingObj[item] + '毫秒(ms)');
                }

                console.log(performance.timing);

            } catch(e) {
                console.log(timingObj)
                console.log(performance.timing);
            }
        }
    })();

        

    </script>
</body>

<style>
   
</style>
</html>